

# 信息系统搭建模拟器

## 项目概述
一个面向信息技术课程（浙教版必修2）的教学模拟工具，让教师和学生能够在浏览器中模拟搭建完整的物联网信息系统，包括硬件连接、代码编写和系统运行全过程。

---

## 功能模块规划

### 🎛️ 第一模块：硬件画布与组件库

**主画布区域**
- 大型可拖拽画布，支持网格背景，方便对齐
- 组件可自由拖放、移动和删除
- 缩放和平移功能，适应不同屏幕

**组件库侧边栏**
- **micro:bit 主板**：可视化显示5x5 LED点阵、A/B按钮、USB接口
- **扩展板**：完整展示引脚（P0-P20、3V、GND），每个引脚可作为连接点
- **传感器组**：温湿度传感器、光线传感器、红外传感器、声音传感器
- **执行器组**：LED灯带、蜂鸣器、舵机、继电器
- **网络设备**：WiFi物联网模块(OBLOQ)、路由器
- **服务器端**：PC服务器、数据库、客户端浏览器

---

### 🔌 第二模块：引脚连线系统

**连线交互**
- 点击组件引脚开始连线，拖拽到目标引脚完成连接
- 支持单向（数据流向）和双向连接
- 不同类型连线用不同颜色区分：电源线（红/黑）、数据线（蓝）、串口线（绿）

**连接规则验证**
- IoT模块的TX需连接扩展板的RX（如Pin1），RX需连接TX（如Pin2）
- VCC需连接3V电源，GND需连接负极
- micro:bit需通过USB线连接电脑才能供电和烧录
- 实时提示连接错误或缺失

**数据流可视化**
- 连接成功后，可显示数据在线路上流动的动画
- 清晰展示传感器→micro:bit→IoT模块→路由器→服务器的数据路径

---

### 💻 第三模块：代码编辑器

**双模式编辑器**
- **积木式编程**：类似MakeCode的可视化积木拖拽，适合入门学生
- **Python代码**：语法高亮的代码编辑器，适合进阶学习
- 两种模式可一键切换，积木自动转换为代码

**micro:bit代码模板**
- 预置常用代码块：连接WiFi、读取传感器、HTTP请求（GET/POST）
- 支持导入Obloq库的函数调用
- 模拟"烧录"按钮，将代码"下载"到虚拟micro:bit

**Flask服务器代码**
- 预置Flask服务器模板代码
- 支持定义路由（如`/upload`接收数据、`/query`查询数据）
- 模拟服务器启动和端口监听

---

### 🗄️ 第四模块：数据库可视化

**SQLite模拟**
- 可视化设计数据表结构（如sensorlist、sensorlog表）
- 支持添加字段、设置数据类型
- 预置课程中使用的表结构模板

**数据查看器**
- 表格形式展示数据库内容
- 系统运行时实时更新数据记录
- 支持简单的SQL查询输入

---

### 🌐 第五模块：网络配置

**路由器设置**
- 配置SSID和密码
- 显示连接设备列表
- 模拟局域网环境

**服务器配置**
- 设置IP地址和端口号
- 显示服务器运行状态
- 查看HTTP请求日志

---

### ▶️ 第六模块：系统仿真运行

**传感器模拟控制**
- 滑块/旋钮手动调节传感器数值（如温度0-100℃）
- 随机波动模式模拟真实数据

**实时系统响应**
- 传感器值变化→micro:bit LED显示→数据发送→服务器接收→数据库存储
- 全流程动画演示数据流动
- 触发条件时执行器响应（如高温警报蜂鸣器响）

**状态监控面板**
- 各组件运行状态指示灯
- 实时数据数值显示
- 通信日志滚动显示

---

### 📚 第七模块：教学场景

**预设场景库**
- 教室温度监测系统（课件案例）
- 校园噪音检测系统
- 智能灌溉系统
- 可一键加载完整配置

**自由模式**
- 从空白画布开始自由搭建
- 支持保存和加载自定义配置

**教学引导**
- 分步骤任务提示
- 常见错误提醒
- 知识点链接

---

## 界面布局

```
┌─────────────────────────────────────────────────────────────┐
│  📐 信息系统搭建模拟器              [预设场景▼] [保存] [运行] │
├──────────┬─────────────────────────────────────┬────────────┤
│          │                                     │            │
│ 组件库    │         硬件连接画布                 │  属性面板   │
│          │                                     │            │
│ ├ 主板    │    [micro:bit] ←→ [扩展板]         │  选中组件   │
│ ├ 传感器  │         ↓                          │  引脚信息   │
│ ├ 执行器  │    [温度传感器]  [IoT模块]          │  参数设置   │
│ ├ 网络    │         ↓            ↓             │            │
│ └ 服务器  │    [路由器] ←→ [PC服务器]          │            │
│          │                                     │            │
├──────────┴─────────────────────────────────────┴────────────┤
│  [硬件连接] [代码编辑] [数据库] [运行仿真]  ← 标签页切换      │
├─────────────────────────────────────────────────────────────┤
│  代码编辑器 / 数据库面板 / 运行监控面板                        │
└─────────────────────────────────────────────────────────────┘
```

---

## 技术实现

- **纯前端应用**：React + TypeScript，无需后端服务器
- **画布引擎**：使用SVG/Canvas实现拖拽和连线
- **状态管理**：React Context/Zustand管理全局状态
- **本地存储**：使用LocalStorage保存用户配置
- **模拟后端**：JavaScript模拟Flask服务器和SQLite数据库行为

---

## 开发阶段建议

1. **阶段一**：基础画布 + 组件拖放 + 简单连线
2. **阶段二**：引脚系统 + 连接验证 + 属性面板
3. **阶段三**：代码编辑器（积木+Python）
4. **阶段四**：数据库可视化 + 服务器模拟
5. **阶段五**：运行仿真 + 数据流动画 + 预设场景

